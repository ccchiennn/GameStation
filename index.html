<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ† æˆ‘çš„è¶…å¼·å°éŠæˆ²ä¸­å¿ƒ</title>
    <style>
        /* CSS æ¨£å¼ï¼šå…¨å±€è¨­ç½® */
        body {
            font-family: 'Arial', sans-serif;
            background-color: #f0f4f8;
            color: #333;
            margin: 0;
            padding: 0;
            text-align: center;
        }
        header {
            background-color: #4a90e2;
            color: white;
            padding: 20px 0;
            margin-bottom: 20px;
        }
        .container {
            width: 90%;
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            flex-wrap: wrap;
            gap: 30px;
            justify-content: center;
        }
        .game-card {
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1);
            padding: 20px;
            width: 100%;
            max-width: 450px;
            transition: transform 0.3s, box-shadow 0.3s;
            text-align: left;
        }
        .game-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
        }
        h2 {
            color: #4a90e2;
            border-bottom: 2px solid #e0e0e0;
            padding-bottom: 10px;
            margin-top: 0;
        }
        button {
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
            border: none;
            border-radius: 5px;
            margin-right: 10px;
            transition: background-color 0.3s;
        }

        /* æ•¸ç¨ç‰¹å®šæ¨£å¼ (S-sudoku) */
        #sudoku-grid {
            display: grid;
            grid-template-columns: repeat(9, 1fr);
            width: 315px; /* 9 * 35px */
            height: 315px; /* 9 * 35px */
            border: 3px solid #000;
            margin: 10px auto;
        }
        .s-cell {
            width: 35px;
            height: 35px;
            border: 1px solid #ccc;
            box-sizing: border-box;
            font-size: 18px;
            text-align: center;
            line-height: 35px;
        }
        .s-cell input {
            width: 100%;
            height: 100%;
            border: none;
            text-align: center;
            font-size: 18px;
            color: #007bff;
        }
        .s-initial {
            background-color: #e9ecef;
            color: #333;
            pointer-events: none;
        }
        .s-error {
            background-color: #ffdddd !important;
        }
        /* æ•¸ç¨ 3x3 ç²—ç·š */
        .s-cell:nth-child(3n) { border-right-width: 3px; border-right-color: #000; }
        .s-cell:nth-child(9n) { border-right-width: 1px; border-right-color: #ccc; }
        .s-row-border { border-bottom-width: 3px !important; border-bottom-color: #000 !important; }

        /* ä¿„ç¾…æ–¯æ–¹å¡Šç‰¹å®šæ¨£å¼ (T-tetris) */
        #tetris-board {
            width: 200px; 
            height: 400px;
            border: 3px solid #000;
            margin: 10px auto;
            display: grid;
            grid-template-columns: repeat(10, 1fr);
            grid-template-rows: repeat(20, 1fr);
            background-color: #111;
        }
        .t-cell {
            width: 100%;
            height: 100%;
            background-color: rgba(255, 255, 255, 0.1);
            box-sizing: border-box;
            border: 1px solid rgba(0, 0, 0, 0.2);
        }
        .occupied { background-color: #ffc107; border-color: #ffc107; }

        /* åæ‡‰åŠ›éŠæˆ²ç‰¹å®šæ¨£å¼ (R-reaction) */
        #reaction-area {
            background-color: #f8d7da;
            padding: 30px;
            border-radius: 8px;
            margin: 10px 0;
            min-height: 150px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 20px;
            flex-direction: column;
        }
        /* ç‰¹åˆ¥åŠ å¤§åæ‡‰åŠ›æŒ‘æˆ°æŒ‰éˆ• */
        #reaction-button {
            padding: 20px 40px;
            font-size: 28px;
            background-color: #28a745;
            color: white;
            border-radius: 10px;
            width: 80%; 
            max-width: 300px;
        }
        .reaction-go { background-color: #ff4136 !important; }
        
        /* å‰ªåˆ€çŸ³é ­å¸ƒç‰¹å®šæ¨£å¼ (P-paper-rock) */
        .rpc-choices {
            display: flex;
            justify-content: space-around;
            margin-top: 15px;
        }
        .rpc-choices button {
            background-color: #17a2b8;
            color: white;
            padding: 15px;
            font-size: 20px;
            border-radius: 8px;
        }

        /* åœˆåœˆå‰å‰ç‰¹å®šæ¨£å¼ (C-circle-cross) */
        #tictactoe-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            width: 270px; /* 3 * 90px */
            height: 270px;
            margin: 10px auto;
            border: 5px solid #333;
        }
        .c-cell {
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 60px;
            font-weight: bold;
            border: 3px solid #333;
            cursor: pointer;
            transition: background-color 0.1s;
        }
        .c-cell:hover {
            background-color: #f0f0f0;
        }
    </style>
</head>
<body>

    <header>
        <h1>ğŸ† æˆ‘çš„è¶…å¼·å°éŠæˆ²ä¸­å¿ƒ</h1>
        <p>æ­¡è¿ä¾†åˆ°éŠæˆ²ä¸–ç•Œï¼</p>
    </header>

    <div class="container">
        
        <div class="game-card">
            <h2>ğŸ§© æ•¸ç¨ (Sudoku)</h2>
            <div id="sudoku-grid"></div>
            <p id="s-message"></p>
            <button id="s-check-btn" style="background-color: #28a745; color: white;">æª¢æŸ¥ç­”æ¡ˆ</button>
            <button id="s-reset-btn" style="background-color: #dc3545; color: white;">é‡è¨­</button>
        </div>

        <div class="game-card">
            <h2>â­•ï¸âŒ åœˆåœˆå‰å‰ (Tic-Tac-Toe)</h2>
            <div id="tictactoe-grid">
                </div>
            <p id="c-message">ç©å®¶ X å…ˆé–‹å§‹</p>
            <button id="c-reset-btn" style="background-color: #007bff; color: white;">é‡æ–°é–‹å§‹</button>
        </div>

        <div class="game-card">
            <h2>ğŸ§± ä¿„ç¾…æ–¯æ–¹å¡Š (Tetris)</h2>
            <div id="tetris-board">
                </div>
            <p>ä½¿ç”¨æ–¹å‘éµ (â†‘â†“â†â†’) æ“æ§ã€‚</p>
            <button id="t-start-btn" style="background-color: #ffc107; color: #333;">é–‹å§‹éŠæˆ²</button>
            <p>åˆ†æ•¸: <span id="t-score">0</span></p>
        </div>

        <div class="game-card">
            <h2>âš¡ åæ‡‰åŠ›æŒ‘æˆ°</h2>
            <div id="reaction-area">
                é»æ“Šã€Œé–‹å§‹ã€å¾Œï¼Œç­‰å¾…é¡è‰²è®Šç´…ï¼
            </div>
            <button id="reaction-button" style="background-color: #6c757d; color: white;">é–‹å§‹æ¸¬è©¦</button>
            <p>æœ€ä½³åæ‡‰æ™‚é–“: <span id="r-high-score">--</span> ms</p>
        </div>

        <div class="game-card">
            <h2>âœ‚ï¸ å‰ªåˆ€çŸ³é ­å¸ƒ (å„ªåŒ–ç‰ˆ)</h2>
            <div class="rpc-choices">
                <button onclick="playRPS('rock')">âœŠ çŸ³é ­</button>
                <button onclick="playRPS('paper')">ğŸ–ï¸ å¸ƒ</button>
                <button onclick="playRPS('scissors')">âœŒï¸ å‰ªåˆ€</button>
            </div>
            <p id="rpc-result">è«‹é¸æ“‡ä½ çš„å‡ºæ‹³</p>
            <p>ç©å®¶å¾—åˆ†: <span id="rpc-player-score">0</span> | é›»è…¦å¾—åˆ†: <span id="rpc-comp-score">0</span></p>
        </div>

    </div>

    <script>
        // =================================================================
        //                 JavaScript éŠæˆ²é‚è¼¯éƒ¨åˆ†
        // =================================================================

        // -----------------------------------------------------------------
        // 1. åœˆåœˆå‰å‰é‚è¼¯ (Tic-Tac-Toe Logic)
        // -----------------------------------------------------------------
        let C_board = ['', '', '', '', '', '', '', '', ''];
        let C_currentPlayer = 'X'; // X å…ˆé–‹å§‹
        let C_gameActive = true;
        const C_winningConditions = [
            [0, 1, 2], [3, 4, 5], [6, 7, 8], // è¡Œ
            [0, 3, 6], [1, 4, 7], [2, 5, 8], // åˆ—
            [0, 4, 8], [2, 4, 6]             // å°è§’ç·š
        ];

        const C_message = document.getElementById('c-message');
        const C_grid = document.getElementById('tictactoe-grid');

        function C_initializeGrid() {
            C_grid.innerHTML = '';
            C_board = ['', '', '', '', '', '', '', '', ''];
            C_currentPlayer = 'X';
            C_gameActive = true;
            C_message.textContent = `ç©å®¶ ${C_currentPlayer} çš„å›åˆ`;

            for (let i = 0; i < 9; i++) {
                const cell = document.createElement('div');
                cell.classList.add('c-cell');
                cell.dataset.index = i;
                cell.addEventListener('click', C_handleClick);
                C_grid.appendChild(cell);
            }
        }

        function C_checkWinner() {
            let roundWon = false;
            for (let i = 0; i < C_winningConditions.length; i++) {
                const winCondition = C_winningConditions[i];
                let a = C_board[winCondition[0]];
                let b = C_board[winCondition[1]];
                let c = C_board[winCondition[2]];

                if (a === '' || b === '' || c === '') {
                    continue;
                }
                if (a === b && b === c) {
                    roundWon = true;
                    break;
                }
            }

            if (roundWon) {
                C_message.textContent = `ğŸ‰ ç©å®¶ ${C_currentPlayer} è´äº†ï¼`;
                C_gameActive = false;
                return;
            }

            // æª¢æŸ¥å¹³å±€
            if (!C_board.includes('')) {
                C_message.textContent = `ğŸ¤ å¹³å±€ï¼`;
                C_gameActive = false;
                return;
            }

            // åˆ‡æ›ç©å®¶
            C_currentPlayer = C_currentPlayer === 'X' ? 'O' : 'X';
            C_message.textContent = `ç©å®¶ ${C_currentPlayer} çš„å›åˆ`;
        }

        function C_handleClick(event) {
            const clickedCell = event.target;
            const clickedCellIndex = parseInt(clickedCell.dataset.index);

            // ç¢ºä¿éŠæˆ²ä»åœ¨é€²è¡Œã€å–®å…ƒæ ¼ç‚ºç©º
            if (C_board[clickedCellIndex] !== '' || !C_gameActive) {
                return;
            }

            // æ›´æ–°æ£‹ç›¤å’Œ UI
            C_board[clickedCellIndex] = C_currentPlayer;
            clickedCell.textContent = C_currentPlayer;

            C_checkWinner();
        }

        document.getElementById('c-reset-btn').addEventListener('click', C_initializeGrid);

        // -----------------------------------------------------------------
        // 2. æ•¸ç¨é‚è¼¯ (Sudoku Logic)
        // -----------------------------------------------------------------
        const S_initialBoard = [
            [5, 3, 0, 0, 7, 0, 0, 0, 0],
            [6, 0, 0, 1, 9, 5, 0, 0, 0],
            [0, 9, 8, 0, 0, 0, 0, 6, 0],
            [8, 0, 0, 0, 6, 0, 0, 0, 3],
            [4, 0, 0, 8, 0, 3, 0, 0, 1],
            [7, 0, 0, 0, 2, 0, 0, 0, 6],
            [0, 6, 0, 0, 0, 0, 2, 8, 0],
            [0, 0, 0, 4, 1, 9, 0, 0, 5],
            [0, 0, 0, 0, 8, 0, 0, 7, 9]
        ];
        const S_solutionBoard = [
            [5, 3, 4, 6, 7, 8, 9, 1, 2],
            [6, 7, 2, 1, 9, 5, 3, 4, 8],
            [1, 9, 8, 3, 4, 2, 5, 6, 7],
            [8, 5, 9, 7, 6, 1, 4, 2, 3],
            [4, 2, 6, 8, 5, 3, 7, 9, 1],
            [7, 1, 3, 9, 2, 4, 8, 5, 6],
            [9, 6, 1, 5, 3, 7, 2, 8, 4],
            [2, 8, 7, 4, 1, 9, 6, 3, 5],
            [3, 4, 5, 2, 8, 6, 1, 7, 9]
        ];

        function S_initializeGrid() {
            const grid = document.getElementById('sudoku-grid');
            grid.innerHTML = '';
            for (let r = 0; r < 9; r++) {
                for (let c = 0; c < 9; c++) {
                    const cell = document.createElement('div');
                    cell.classList.add('s-cell');
                    cell.dataset.row = r;
                    cell.dataset.col = c;
                    
                    if ((r + 1) % 3 === 0 && r !== 8) {
                        cell.classList.add('s-row-border');
                    }

                    const value = S_initialBoard[r][c];
                    if (value !== 0) {
                        cell.textContent = value;
                        cell.classList.add('s-initial');
                    } else {
                        const input = document.createElement('input');
                        input.type = 'text';
                        input.maxLength = 1;
                        input.pattern = '[1-9]';
                        input.addEventListener('input', function() {
                            this.value = this.value.replace(/[^1-9]/g, '');
                            cell.classList.remove('s-error');
                            document.getElementById('s-message').textContent = '';
                        });
                        cell.appendChild(input);
                    }
                    grid.appendChild(cell);
                }
            }
        }

        function S_checkSudoku() {
            let isCompleted = true;
            let isCorrect = true;
            document.querySelectorAll('.s-cell').forEach(cell => cell.classList.remove('s-error'));
            const message = document.getElementById('s-message');

            for (let r = 0; r < 9; r++) {
                for (let c = 0; c < 9; c++) {
                    const cell = document.querySelector(`.s-cell[data-row="${r}"][data-col="${c}"]`);
                    let currentValue = S_initialBoard[r][c];

                    if (currentValue === 0) {
                        const input = cell.querySelector('input');
                        if (input && input.value) {
                            currentValue = parseInt(input.value);
                        } else {
                            isCompleted = false;
                            continue;
                        }
                    }

                    if (currentValue !== 0 && currentValue !== S_solutionBoard[r][c]) {
                        isCorrect = false;
                        if (!cell.classList.contains('s-initial')) {
                            cell.classList.add('s-error');
                        }
                    }
                }
            }

            if (!isCompleted) {
                message.style.color = 'orange';
                message.textContent = 'âŒ è«‹å…ˆå¡«æ»¿æ‰€æœ‰ç©ºæ ¼ï¼';
            } else if (isCorrect) {
                message.style.color = 'green';
                message.textContent = 'ğŸ‰ æ­å–œï¼æ•¸ç¨è§£ç­”å®Œå…¨æ­£ç¢ºï¼';
            } else {
                message.style.color = 'red';
                message.textContent = 'âš ï¸ ç­”æ¡ˆæœ‰èª¤ï¼è«‹æª¢æŸ¥æ¨™ç´…è‰²çš„æ ¼å­ã€‚';
            }
        }
        
        document.getElementById('s-check-btn').addEventListener('click', S_checkSudoku);
        document.getElementById('s-reset-btn').addEventListener('click', () => {
            S_initializeGrid();
            document.getElementById('s-message').textContent = '';
        });

        // -----------------------------------------------------------------
        // 3. ä¿„ç¾…æ–¯æ–¹å¡Šé‚è¼¯ (Tetris Logic) - ç°¡åŒ–ç‰ˆ
        // -----------------------------------------------------------------
        const T_COLS = 10;
        const T_ROWS = 20;
        let T_grid = [];
        let T_score = 0;
        let T_gameLoop;
        let T_isGameOver = false;

        function T_initializeBoard() {
            const boardElement = document.getElementById('tetris-board');
            boardElement.innerHTML = '';
            T_grid = Array(T_ROWS).fill(0).map(() => Array(T_COLS).fill(0));
            T_score = 0;
            document.getElementById('t-score').textContent = T_score;

            for (let r = 0; r < T_ROWS; r++) {
                for (let c = 0; c < T_COLS; c++) {
                    const cell = document.createElement('div');
                    cell.classList.add('t-cell');
                    boardElement.appendChild(cell);
                }
            }
        }

        function T_draw() {
            const cells = document.querySelectorAll('#tetris-board .t-cell');
            for (let r = 0; r < T_ROWS; r++) {
                for (let c = 0; c < T_COLS; c++) {
                    const index = r * T_COLS + c;
                    cells[index].classList.remove('occupied');
                    if (T_grid[r][c] === 1) {
                        cells[index].classList.add('occupied');
                    }
                }
            }
        }

        function T_startGame() {
            if (T_gameLoop) clearInterval(T_gameLoop);
            T_initializeBoard();
            T_isGameOver = false;
            
            document.getElementById('t-score').textContent = "éŠæˆ²å•Ÿå‹•ï¼Œä½†å®Œæ•´é‚è¼¯éœ€æ›´å¤šç¨‹å¼ç¢¼...";
            
            T_gameLoop = setInterval(() => {
                if (Math.random() < 0.1) {
                    T_score += 10;
                    document.getElementById('t-score').textContent = T_score;
                }
                T_draw(); 
            }, 1000);
        }

        document.getElementById('t-start-btn').addEventListener('click', T_startGame);

        // -----------------------------------------------------------------
        // 4. åæ‡‰åŠ›æŒ‘æˆ°é‚è¼¯ (Reaction Challenge Logic)
        // -----------------------------------------------------------------
        let R_state = 'waiting'; 
        let R_timeout;
        let R_startTime;
        let R_highScore = localStorage.getItem('R_highScore') || '--';
        
        const R_area = document.getElementById('reaction-area');
        const R_button = document.getElementById('reaction-button');
        const R_highScoreSpan = document.getElementById('r-high-score');
        R_highScoreSpan.textContent = R_highScore;

        function R_handleStart() {
            if (R_state === 'waiting') {
                R_state = 'ready';
                R_area.style.backgroundColor = '#ffc107'; 
                R_area.textContent = 'ç­‰å¾…... ç•¶å®ƒè®Šç´…æ™‚é»æ“Šï¼';
                R_button.textContent = 'é»æ“Š';
                R_button.style.backgroundColor = '#6c757d';
                
                const delay = Math.random() * 3500 + 1500; 
                R_timeout = setTimeout(R_handleGo, delay);

            } else if (R_state === 'ready') {
                clearTimeout(R_timeout);
                R_area.style.backgroundColor = '#dc3545'; 
                R_area.textContent = 'âŒ å¤ªæ—©äº†ï¼ (ç½°æ™‚: 500ms)';
                R_button.textContent = 'é‡æ–°é–‹å§‹';
                R_state = 'waiting';

            } else if (R_state === 'go') {
                const R_endTime = performance.now();
                const R_reactionTime = Math.round(R_endTime - R_startTime);
                
                R_area.style.backgroundColor = '#28a745'; 
                R_area.textContent = `âœ… åæ‡‰æ™‚é–“ï¼š${R_reactionTime} ms`;
                R_button.textContent = 'é‡æ–°é–‹å§‹';
                R_state = 'waiting';

                if (R_highScore === '--' || R_reactionTime < parseInt(R_highScore)) {
                    R_highScore = R_reactionTime;
                    localStorage.setItem('R_highScore', R_highScore);
                    R_highScoreSpan.textContent = R_highScore;
                }
            }
        }

        function R_handleGo() {
            R_state = 'go';
            R_area.style.backgroundColor = '#ff4136'; 
            R_area.textContent = 'ğŸ”´ é»æ“Šï¼é»æ“Šï¼';
            R_startTime = performance.now();
        }

        R_button.addEventListener('click', R_handleStart);

        // -----------------------------------------------------------------
        // 5. å‰ªåˆ€çŸ³é ­å¸ƒé‚è¼¯ (Rock-Paper-Scissors Logic)
        // -----------------------------------------------------------------
        let RPC_playerScore = 0;
        let RPC_compScore = 0;
        
        const RPC_choices = ['rock', 'paper', 'scissors'];
        const RPC_result = document.getElementById('rpc-result');
        const RPC_playerScoreSpan = document.getElementById('rpc-player-score');
        const RPC_compScoreSpan = document.getElementById('rpc-comp-score');

        function RPC_getComputerChoice() {
            const randomIndex = Math.floor(Math.random() * 3);
            return RPC_choices[randomIndex];
        }

        function RPC_translate(choice) {
            if (choice === 'rock') return 'âœŠ çŸ³é ­';
            if (choice === 'paper') return 'ğŸ–ï¸ å¸ƒ';
            return 'âœŒï¸ å‰ªåˆ€';
        }

        window.playRPS = function(playerChoice) {
            const computerChoice = RPC_getComputerChoice();
            let resultMessage = '';

            if (playerChoice === computerChoice) {
                resultMessage = `å¹³æ‰‹ï¼ (ä½ : ${RPC_translate(playerChoice)} vs. é›»è…¦: ${RPC_translate(computerChoice)})`;
            } else if (
                (playerChoice === 'rock' && computerChoice === 'scissors') ||
                (playerChoice === 'paper' && computerChoice === 'rock') ||
                (playerChoice === 'scissors' && computerChoice === 'paper')
            ) {
                resultMessage = `æ­å–œï¼Œä½ è´äº†ï¼ (ä½ : ${RPC_translate(playerChoice)} vs. é›»è…¦: ${RPC_translate(computerChoice)})`;
                RPC_playerScore++;
            } else {
                resultMessage = `éºæ†¾ï¼Œé›»è…¦è´äº†ï¼ (ä½ : ${RPC_translate(playerChoice)} vs. é›»è…¦: ${RPC_translate(computerChoice)})`;
                RPC_compScore++;
            }

            RPC_result.textContent = resultMessage;
            RPC_playerScoreSpan.textContent = RPC_playerScore;
            RPC_compScoreSpan.textContent = RPC_compScore;
        }

        // -----------------------------------------------------------------
        // 6. ç¶²é è¼‰å…¥æ™‚å•Ÿå‹•
        // -----------------------------------------------------------------
        window.onload = function() {
            S_initializeGrid();
            C_initializeGrid(); // å•Ÿå‹•åœˆåœˆå‰å‰
            T_initializeBoard();
        };
    </script>
</body>
</html>
